(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{405:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("æœ¬æ–‡ç¿»è¯‘è‡ªhttps://mathiasbynens.be/notes/javascript-unicode")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("Javascriptå¤„ç†Unicodeçš„æ–¹å¼ï¼Œè¯´å®è¯æ¯”è¾ƒè¿·ã€‚æ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸»è¦é’ˆå¯¹è¿™ä¸ªé—®é¢˜åšä¸€äº›è§£é‡Šï¼Œå¦å¤–çœ‹çœ‹es6æ˜¯æ€ä¹ˆæ”¹è¿›çš„ã€‚")]),t._v(" "),s("h2",{attrs:{id:"unicodeåŸºç¡€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unicodeåŸºç¡€"}},[t._v("#")]),t._v(" UnicodeåŸºç¡€")]),t._v(" "),s("p",[t._v("åœ¨æˆ‘ä»¬ç»§ç»­æ·±å…¥è®¨è®ºä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ‹‰å¹³ä¸€ä¸‹Unicodeçš„è®¤çŸ¥ã€‚")]),t._v(" "),s("p",[t._v("ç†è§£Unicodeçš„æœ€ç®€å•é‚£çš„æ–¹å¼å°±æ˜¯å°†å®ƒæƒ³è±¡æˆä¸€ä¸ªæ•°æ®åº“ï¼Œé‡Œé¢å­˜ç€å„å¼å„æ ·çš„ç¬¦å·ä»¥åŠä»–ä»¬å¯¹åº”çš„å”¯ä¸€idï¼Œè¿™ä¸ªidè¢«å«åšcode pointï¼Œæ­¤å¤–è¿˜å­˜äº†ä»–ä»¬å”¯ä¸€çš„åå­—ã€‚è¿™æ ·ï¼Œå½“æˆ‘ä»¬è¦è¡¨è¾¾æŸä¸ªç¬¦å·çš„æ—¶å€™ï¼Œåªè¦ç»™å‡ºå¯¹åº”çš„code pointå°±å¯ä»¥äº†ã€‚æ¯”å¦‚ï¼š")]),t._v(" "),s("p",[t._v("å½“æˆ‘ä»¬è¯´ï¼šU+0041ï¼Œåˆ«äººå°±çŸ¥é“æˆ‘ä»¬æƒ³è¦è¡¨è¾¾çš„æ˜¯ç¬¦å·A\nå½“æˆ‘ä»¬è¯´ï¼šU+1F4A9ï¼Œåˆ«äººå°±çŸ¥é“æˆ‘ä»¬æƒ³è¦è¡¨è¾¾çš„ç¬¦å·æ˜¯ğŸ’©")]),t._v(" "),s("p",[t._v("Code pointé€šå¸¸éƒ½æ˜¯ä»¥U+å¼€å¤´çš„åå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºï¼Œè‡³å°‘æœ‰4ä½ï¼Œä¸è¶³çš„ä¼šåœ¨å‰é¢è¡¥0ã€‚")]),t._v(" "),s("p",[t._v("Code pointçš„èŒƒå›´æ˜¯U+0000åˆ°U+10FFFFï¼Œå¯ä»¥å®¹çº³è¶…è¿‡110ä¸‡ä¸ªå­—ç¬¦ã€‚ä¸ºäº†åˆç†ç»„ç»‡å’Œåˆ©ç”¨ï¼ŒUnicodeå°†è¿™ä¸ªèŒƒå›´åˆ’åˆ†æˆäº†17ä¸ªéƒ¨åˆ†ï¼ˆPlaneï¼‰ï¼Œæ¯ä¸ªéƒ¨åˆ†å¤§çº¦æœ‰6ä¸‡5å‰ä¸ªå­—ç¬¦ã€‚")]),t._v(" "),s("p",[t._v("ç¬¬ä¸€ä¸ªéƒ¨åˆ†ï¼ˆU+0000è‡³U+FFFFï¼‰ï¼Œå«åšBasic Multilingual Planeï¼ˆBMPï¼‰ã€‚è¿™æ˜¯æœ€é‡è¦çš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œå› ä¸ºå®ƒåŒ…å«äº†ç»å¤§å¤šæ•°å¸¸ç”¨çš„ç¬¦å·ã€‚å¦‚æœä½ æ˜¯åœ¨ç”¨è‹±è¯­å†™ä½œï¼Œé‚£ä½ å¾ˆæœ‰å¯èƒ½ä¸ä¼šç”¨åˆ°BMPä¹‹å¤–çš„ç¬¦å·ã€‚è·Ÿå…¶ä»–åˆ†åŒºä¸€æ ·ï¼Œè¿™ä¸ªåˆ†åŒºä¹Ÿæœ‰å¤§çº¦6æ™š5åƒä¸ªå­—ç¬¦ã€‚")]),t._v(" "),s("p",[t._v("é™¤äº†BMPï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ï¼ˆU+010000è‡³U+10FFFFï¼‰å¤§æ¦‚æœ‰110ä¸‡ä¸ªå­—ç¬¦ã€‚å±äºè¿™éƒ¨åˆ†çš„åˆ†åŒºè¢«ç§°ä½œå¢è¡¥åˆ†åŒºï¼ˆsupplementary planesæˆ–astral planesï¼‰ã€‚")]),t._v(" "),s("p",[t._v("å¾ˆå®¹æ˜“åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ¥è‡ªå¢è¡¥åˆ†åŒºï¼Œé‚£å°±æ˜¯çœ‹å®ƒå¯¹åº”çš„åå…­è¿›åˆ¶æ•°å­—çš„ä½æ•°æ˜¯å¦è¶…è¿‡äº†4ä½ã€‚")]),t._v(" "),s("p",[t._v("å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†Unicodeå¸¸è¯†ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹Javascriptæ˜¯å¦‚ä½•å¤„ç†å­—ç¬¦ä¸²çš„ã€‚")]),t._v(" "),s("h2",{attrs:{id:"è½¬ä¹‰åºåˆ—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è½¬ä¹‰åºåˆ—"}},[t._v("#")]),t._v(" è½¬ä¹‰åºåˆ—")]),t._v(" "),s("p",[t._v("ä½ åº”è¯¥è§è¿‡è¿™ç§ä¸œè¥¿ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(">> '\\x41\\x42\\x43'\n'ABC'\n\n>> '\\x61\\x62\\x63'\n'abc'\n")])])]),s("p",[t._v("è¿™ç§ä¸œè¥¿è¢«ç§°ä½œâ€œåå…­è¿›åˆ¶è½¬ä¹‰åºåˆ—â€ï¼ˆhexadecimal escape sequenceï¼‰ã€‚å®ƒæ˜¯ç”±2ä½çš„åå…­è¿›åˆ¶æ•°å­—æ¥å¯¹åº”code pointçš„ï¼Œä¾‹å¦‚\\x41å¯¹åº”U+0041ï¼ˆå¤§å†™å­—æ¯Aï¼‰ã€‚å› ä¸ºåªæœ‰2ä½ï¼Œæ‰€ä»¥å®ƒåªèƒ½ç”¨æ¥å¯¹åº”U+0000åˆ°U+00FFçš„code pointã€‚")]),t._v(" "),s("p",[t._v("å¦ä¸€ç§å¸¸è§çš„è½¬ç§»å­—ç¬¦å½¢å¼æ˜¯è¿™æ ·çš„ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(">> '\\u0041\\u0042\\u0043'\n'ABC'\n\n>> 'I \\u2661 JavaScript!'\n'I â™¡ JavaScript!'\n")])])]),s("p",[t._v("è¿™ç§ä¸œè¥¿è¢«ç§°ä½œâ€œUnicodeè½¬ä¹‰åºåˆ—â€œã€‚å®ƒæ˜¯ç”±4ä½çš„åå…­è¿›åˆ¶æ•°å­—æ¥è¡¨ç¤ºcode pointçš„ã€‚ä¾‹å¦‚\\u2261è¡¨ç¤ºçš„æ˜¯U+2261ï¼ˆå¿ƒå‹ç¬¦å·ï¼‰ã€‚å› ä¸ºæ˜¯4ä½ï¼Œæ‰€ä»¥èƒ½è¡¨ç¤ºU+0000åˆ°U+FFFFèŒƒå›´çš„code pointï¼Œä¹Ÿå°±æ˜¯å®Œæ•´çš„BMPã€‚")]),t._v(" "),s("p",[t._v("ç°åœ¨é—®é¢˜å‡ºç°äº†ï¼Œå¦‚æœæ˜¯éBMPå­—ç¬¦ï¼ˆå¢è¡¥åˆ†åŒºï¼‰ï¼Œæˆ‘ä»¬éœ€è¦è¶…è¿‡4ä½çš„åå…­è¿›åˆ¶æ•°å­—ï¼Œé‚£ä¹ˆè¦æ€ä¹ˆåšå‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("åœ¨ES6ä¸­ï¼Œäº‹æƒ…å°±å¾ˆå¥½åŠäº†ã€‚å› ä¸ºES6å¼•å…¥äº†ä¸€ç§æ–°çš„è½¬ç§»åºåˆ—ï¼Œå«åšâ€œUnicode code pointè½¬ä¹‰åºåˆ—â€ã€‚ä¸¾ä¸ªä¾‹å­ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(">> '\\u{41}\\u{42}\\u{43}'\n'ABC'\n\n>> '\\u{1F4A9}'\n'ğŸ’©' // U+1F4A9 PILE OF POO\n")])])]),s("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å¤§æ‹¬å·ä¸­é—´ï¼Œä½ å¯ä»¥ä½¿ç”¨æœ€å¤š6ä¸ªåå…­è¿›åˆ¶æ•°å­—ï¼Œè¶³å¤Ÿè¡¨ç¤ºæ‰€æœ‰çš„Unicode code pointäº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥ç”¨è¿™ç§æ–¹å¼è¡¨ç¤ºä»»æ„Unicodeå­—ç¬¦ã€‚")]),t._v(" "),s("p",[t._v("å¯¹äºES5ç”šè‡³æ›´è€çš„ç¯å¢ƒï¼Œä¸ºäº†å…¼å®¹æ€§ï¼Œæœ‰ä¸ªå€’éœ‰çš„è§£å†³æ–¹å¼å«åšâ€œæ›¿æ¢å¯¹å„¿â€ï¼ˆsurrogate pairsï¼‰ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(">> '\\uD83D\\uDCA9'\n'ğŸ’©' // U+1F4A9 PILE OF POO\n")])])]),s("p",[t._v("å¦‚ä¸Šæ‰€ç¤ºï¼Œä¸€ä¸ªcode pointä¼šè¢«æ‹†åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸å¦¨å°±å«åšsurrogate code pointï¼Œæ¢å¥è¯è¯´ï¼Œsurrogate code pointåˆåœ¨ä¸€èµ·å…±åŒè¡¨ç¤ºä¸€ä¸ªåŸå§‹code pointã€‚")]),t._v(" "),s("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsurrogate code pointè·ŸåŸå§‹code pointé•¿å¾—å¾ˆä¸ä¸€æ ·ã€‚è¿™ä¸¤è€…æ˜¯é€šè¿‡è¿ç®—å…¬å¼ç›¸äº’è½¬æ¢çš„ã€‚")]),t._v(" "),s("p",[t._v("é€šè¿‡ä½¿ç”¨surrogate pairsï¼Œç°åœ¨æˆ‘ä»¬æ€»ç®—æ˜¯å¯ä»¥è¡¨è¾¾éBMPå­—ç¬¦äº†ã€‚ä½†é—®é¢˜æ˜¯ï¼Œç”¨ä¸€ä¸ªè½¬ç§»å­—ç¬¦è¡¨ç¤ºBMPå’Œç”¨ä¸¤ä¸ªè½¬ç§»å­—ç¬¦è¡¨ç¤ºéBMPï¼Œè¿™ä¸¤ç§æ–¹å¼åœ¨å†™æ³•ä¸Šæ²¡ä»»ä½•åŒºåˆ«ï¼Œååˆ†ä»¤äººè¿·æƒ‘ï¼Œå¹¶ä¸”å¼•å‘äº†ä¸€ç³»åˆ—é—®é¢˜ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æ•°ä¸€æ•°javascriptä¸­å­—ç¬¦ä¸²æœ‰å¤šå°‘ä¸ªunicodeç¬¦å·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°ä¸€æ•°javascriptä¸­å­—ç¬¦ä¸²æœ‰å¤šå°‘ä¸ªunicodeç¬¦å·"}},[t._v("#")]),t._v(" æ•°ä¸€æ•°Javascriptä¸­å­—ç¬¦ä¸²æœ‰å¤šå°‘ä¸ªUnicodeç¬¦å·")]),t._v(" "),s("p",[t._v("å‡è®¾ä½ è¦è®¡ç®—ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä½ ä¼šæ€ä¹ˆåšå‘¢ï¼Ÿ")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(">> 'A'.length // U+0041 LATIN CAPITAL LETTER A\n1\n\n>> 'A' == '\\u0041'\ntrue\n\n>> 'B'.length // U+0042 LATIN CAPITAL LETTER B\n1\n\n>> 'B' == '\\u0042'\ntrue\n")])])]),s("p",[t._v("åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå­—ç¬¦ä¸²çš„.lengthå±æ€§ååº”çš„æ˜¯å­—ç¬¦ä¸²ä¸­å­—æ¯çš„ä¸ªæ•°ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨è½¬ç§»åºåˆ—è¡¨ç¤ºè¿™äº›å­—ç¬¦ï¼Œé‚£ä¹ˆä¸€ä¸ªå­—ç¬¦åˆšå¥½å¯¹åº”ä¸€ä¸ªè½¬ä¹‰ç¬¦å·ã€‚ä½†æœ‰æ—¶å€™å´ä¸æ˜¯è¿™æ ·ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(">> 'ğ€'.length // U+1D400 MATHEMATICAL BOLD CAPITAL A\n2\n\n>> 'ğ€' == '\\uD835\\uDC00'\ntrue\n\n>> 'ğ'.length // U+1D401 MATHEMATICAL BOLD CAPITAL B\n2\n\n>> 'ğ' == '\\uD835\\uDC01'\ntrue\n\n>> 'ğŸ’©'.length // U+1F4A9 PILE OF POO\n2\n\n>> 'ğŸ’©' == '\\uD83D\\uDCA9'\ntrue\n")])])]),s("p",[t._v("è¿™æ˜¯å› ä¸ºJavascriptä½¿ç”¨surrogate pairsè¡¨ç¤ºäº†éBMPå­—ç¬¦ï¼Œå¹¶ä¸”è¿™äº›â€œåŠä¸ªsurrogate pairsâ€çœ‹ä¸Šå»å°±åƒä¸€ä¸ªç‹¬ç«‹çš„å­—ç¬¦ä¸€æ ·ã€‚è¿™ç§ç»“æœéå¸¸ä»¤äººè¿·æƒ‘ï¼Œå› ä¸ºè‚‰çœ¼çœ‹ä¸Šå»æ— æ³•åˆ†è¾¨ï¼ŒåªçŸ¥é“æ˜¯ä¸€å †Unicodeå­—ç¬¦ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æ•°ä¸€æ•°javascriptä¸­å­—ç¬¦ä¸²æœ‰å¤šå°‘ä¸ªébmpç¬¦å·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°ä¸€æ•°javascriptä¸­å­—ç¬¦ä¸²æœ‰å¤šå°‘ä¸ªébmpç¬¦å·"}},[t._v("#")]),t._v(" æ•°ä¸€æ•°Javascriptä¸­å­—ç¬¦ä¸²æœ‰å¤šå°‘ä¸ªéBMPç¬¦å·")]),t._v(" "),s("p",[t._v("å›åˆ°åˆšæ‰é‚£ä¸ªé—®é¢˜ï¼Œå¦‚ä½•ç²¾ç¡®è®¡ç®—Javascriptå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªUnicodeç¬¦å·å‘¢ï¼Ÿç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ï¼Œå…³é”®æ˜¯è¦æ­£ç¡®è¯†åˆ«å‡ºå…¶ä¸­å“ªäº›æ˜¯surrogate pairsï¼Œç„¶åæŠŠè¿™äº›pairså½“æˆæ˜¯ä¸€ä¸ªç¬¦å·ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" regexAstralSymbols "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" string\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace every surrogate pair with a BMP symbol.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regexAstralSymbols"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'_'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// â€¦and *then* get the length.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("æˆ–è€…ä½ å¯ä»¥ç”¨Punycode.jsè¿™ä¸ªåº“ï¼ˆéšnodeä¸€èµ·å‘å¸ƒï¼‰ï¼Œå…ˆæŠŠJavascriptå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ç»„Unicode code pointï¼Œç„¶åç»Ÿè®¡æœ‰å¤šå°‘ä¸ªcode pointï¼Œå°±åƒè¿™æ ·ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" punycode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ucs2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("decode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœæ˜¯ES6ï¼Œä½ è¿˜å¯ä»¥ç”¨"),s("code",[t._v("Array.from")]),t._v("ï¼Œå®ƒä¼šä½¿ç”¨å­—ç¬¦ä¸²è¿­ä»£å™¨å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡å‰²ï¼Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç¬¦å·ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("æˆ–è€…ä½¿ç”¨spreadè¿ç®—ç¬¦")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä½¿ç”¨ä¸Šé¢ä»»æ„ä¸€ç§æ–¹æ³•ï¼Œæˆ‘ä»¬éƒ½èƒ½å¤Ÿæ­£ç¡®è®¡ç®—å‡ºå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªç¬¦å·ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+0041 LATIN CAPITAL LETTER A")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğ€'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1D400 MATHEMATICAL BOLD CAPITAL A")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9 PILE OF POO")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),s("h2",{attrs:{id:"å“ªäº›é•¿å¾—å¾ˆç›¸ä¼¼çš„ç¬¦å·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å“ªäº›é•¿å¾—å¾ˆç›¸ä¼¼çš„ç¬¦å·"}},[t._v("#")]),t._v(" å“ªäº›é•¿å¾—å¾ˆç›¸ä¼¼çš„ç¬¦å·")]),t._v(" "),s("p",[t._v("è¿˜æœ‰æ›´å¤´ç–¼çš„äº‹æƒ…ï¼Œè®¡ç®—å­—ç¬¦ä¸²ä¸­ç¬¦å·çš„æ•°é‡å®é™…ä¸Šå¤æ‚å¤šäº†ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'maÃ±ana'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'manÌƒana'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n")])])]),s("p",[t._v("Javascriptè¯´è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯æ˜æ˜çœ‹ç€æ²¡åŒºåˆ«å‘€ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mathiasbynens.be/_img/javascript-unicode/js-escapes-manana.png",alt:""}})]),t._v(" "),s("p",[t._v("ä½¿ç”¨"),s("a",{attrs:{href:"https://mothereff.in/js-escapes#1ma%C3%B1ana%20man%CC%83ana",target:"_blank",rel:"noopener noreferrer"}},[t._v("escape tool"),s("OutboundLink")],1),t._v("è¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä»¬å°±èƒ½æ‰¾åˆ°åŸå› äº†ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ma\\xF1ana'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'man\\u0303ana'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ma\\xF1ana'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'man\\u0303ana'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n")])])]),s("p",[t._v("ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²åŒ…å«äº†ä¸€ä¸ªU+00F1 LATIN SMALL LETTER N WITH TILDEï¼Œä½†æ˜¯ç¬¬äºŒä¸ªå­—ç¬¦ä¸²åŒ…å«æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„code pointï¼ˆU+006E LATIN SMALL LETTER Nå’ŒU+0303 COMBINING TILDEï¼‰ç»„åˆåœ¨ä¸€èµ·å½¢æˆä¸€æ ·çš„å›¾æ¡ˆã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ˜æ˜ä»–ä»¬çœ‹ä¸Šå»ä¸€æ ·ï¼Œ"),s("code",[t._v(".length")]),t._v("å´ä¸ä¸€æ ·ã€‚")]),t._v(" "),s("p",[t._v("ä½†æ˜¯ï¼Œå¦‚æœä½ æŒ‰ç…§äººç±»çš„æ­£å¸¸æ€ç»´å»æ•°åˆ°åº•æœ‰å¤šå°‘ç¬¦å·ï¼Œä¸Šé¢ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç»“æœéƒ½æ˜¯6ï¼Œè¿™åˆæ˜¯ä»€ä¹ˆé¬¼å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("åœ¨ES6ä¸­ï¼Œç­”æ¡ˆæ˜¯å¾ˆç®€å•çš„ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbolsPedantically")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Unicode Normalization, NFC form, to account for lookalikes:")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" normalized "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NFC'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Account for astral symbols / surrogates, just like we did before:")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" punycode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ucs2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("decode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normalized"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("è¿™ä¸ª"),s("code",[t._v("normalize")]),t._v("æ–¹æ³•çš„æ•ˆæœæ˜¯ä½¿æ‰€æœ‰é•¿å¾—ç±»ä¼¼çš„Unicodeéƒ½ç»Ÿä¸€æˆä¸€ä¸ªï¼ˆUnicode normalizationï¼‰ã€‚å¦‚æœä¸€ä¸ªcode pointå¯¹åº”çš„ç¬¦å·è·Ÿä¸¤ä¸ªcode pointså¯¹åº”çš„ç¬¦å·ç»„åˆåœ¨ä¸€èµ·é•¿å¾—å·®ä¸å¤šï¼Œé‚£ä¹ˆä»–ä»¬å°±ä¼šè¢«ç»Ÿä¸€æˆä¸€ä¸ªcode pointã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbolsPedantically")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'maÃ±ana'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+00F1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbolsPedantically")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'manÌƒana'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+006E + U+0303")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n")])])]),s("p",[t._v("å¯¹äºES5å’Œæ›´è€çš„ç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨polyfillè¾¾åˆ°åŒæ ·çš„åŠŸèƒ½ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å¥½å¤šä¸ªç»„åˆæ ‡è®°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¥½å¤šä¸ªç»„åˆæ ‡è®°"}},[t._v("#")]),t._v(" å¥½å¤šä¸ªç»„åˆæ ‡è®°")]),t._v(" "),s("p",[t._v("ä¸Šé¢çš„æ–¹æ³•ä»ç„¶ä¸å¤Ÿå®Œç¾ï¼Œå› ä¸ºå¯èƒ½åŒæ—¶æœ‰å¾ˆå¤šä¸ªå­—ç¬¦ç»„åˆåœ¨ä¸€èµ·ï¼Œè€Œä¸”æ²¡æœ‰å¯¹åº”çš„normalizeå½¢å¼ï¼Œè¿™ç§æ—¶å€™normalizeæ–¹æ³•å°±æ²¡ç”¨äº†ã€‚æ¯”å¦‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'q\\u0307\\u0323'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NFC'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// `qÌ‡Ì£`")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'q\\u0307\\u0323'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbolsPedantically")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'q\\u0307\\u0323'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// not 1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbolsPedantically")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ZÍ‘Í«ÍƒÍªÌ‚Í«Ì½ÍÌ´Ì™Ì¤ÌÍ‰ÍšÌ¯ÌÌ ÍAÍ«Í—Ì´Í¢ÌµÌœÌ°Í”LÍ¨Í§Í©Í˜Ì GÌ‘Í—ÌÌ…Í›ÍÌ´Ì»ÍˆÍÍ”Ì¹OÍ‚ÌŒÌŒÍ˜Ì¨ÌµÌ¹Ì»ÌÌ³!Ì¿Ì‹Í¥Í¥Ì‚Í£ÌÌÌÍÍœÍ–Ì¬Ì°Ì™Ì—'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("74")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// not 6")]),t._v("\n")])])]),s("p",[t._v("å½“ç„¶ä½ å¯ä»¥ç”¨ä¸€äº›é¸¡è´¼çš„æ–¹æ³•ï¼Œæ¯”å¦‚ç”¨æ­£åˆ™è¡¨è¾¾å¼å‰”é™¤æ‰ç»„åˆå­—ç¬¦ç„¶åå¾—åˆ°æ­£ç¡®çš„ç»“æœï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Note: replace the following regular expression with its transpiled equivalent")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to make it work in old environments. https://mths.be/bwm")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" regexSymbolWithCombiningMarks "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("(\\P{Mark})(\\p{Mark}+)")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("gu")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbolsIgnoringCombiningMarks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Remove any combining marks, leaving only the symbols they belong to:")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" stripped "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regexSymbolWithCombiningMarks"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("$0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" combiningMarks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Account for astral symbols / surrogates, just like we did before:")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" punycode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ucs2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("decode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stripped"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä¸Šé¢è¿™ä¸ªæ–¹æ³•ä¼šå…ˆå‰”é™¤é‚£äº›ç»„åˆç¬¦å·ï¼Œç„¶åå†ç»Ÿè®¡ç¬¦å·ä¸ªæ•°ï¼Œè¿™ä¸ªæ–¹æ³•ç”šè‡³å¯¹ES3éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¹¶ä¸”æä¾›çš„ç»“æœç›¸å½“ç²¾ç¡®ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbolsIgnoringCombiningMarks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'q\\u0307\\u0323'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countSymbolsIgnoringCombiningMarks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ZÍ‘Í«ÍƒÍªÌ‚Í«Ì½ÍÌ´Ì™Ì¤ÌÍ‰ÍšÌ¯ÌÌ ÍAÍ«Í—Ì´Í¢ÌµÌœÌ°Í”LÍ¨Í§Í©Í˜Ì GÌ‘Í—ÌÌ…Í›ÍÌ´Ì»ÍˆÍÍ”Ì¹OÍ‚ÌŒÌŒÍ˜Ì¨ÌµÌ¹Ì»ÌÌ³!Ì¿Ì‹Í¥Í¥Ì‚Í£ÌÌÌÍÍœÍ–Ì¬Ì°Ì™Ì—'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n")])])]),s("h2",{attrs:{id:"å…¶ä»–ç±»å‹çš„ç¬¦å·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–ç±»å‹çš„ç¬¦å·"}},[t._v("#")]),t._v(" å…¶ä»–ç±»å‹çš„ç¬¦å·")]),t._v(" "),s("p",[t._v("ä¸Šé¢ä»‹ç»çš„æ–¹æ³•ä»ç„¶è¿‡äºç®€å•äº†ï¼Œå› ä¸ºå®ƒå¯¹äºä¸‹é¢è¿™ç§ä¸æ˜¯ç»„åˆç¬¦å·ä½†åˆæŒ¤åœ¨ä¸€èµ·çš„ç¬¦å·ä½¿æ— èƒ½ä¸ºåŠ›ï¼Œæ¯”å¦‚à®¨à®¿ (à®¨ + à®¿)ï¼Œæˆ–è€…á„á…¡á†¨ (á„ + á…¡ + á†¨)ï¼Œæˆ–è€…ç‰¹æ®Šemojiåºåˆ—æ¯”å¦‚ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ (ğŸ‘¨ + U+200D ZERO WIDTH JOINER + ğŸ‘© + U+200D ZERO WIDTH JOINER + ğŸ‘§ + U+200D ZERO WIDTH JOINER + ğŸ‘¦)ï¼Œæˆ–è€…å…¶ä»–çš„æƒ…å†µã€‚ã€‚")]),t._v(" "),s("p",[t._v("Unicodeè§„èŒƒç¬¬29å·é™„å½•â€œUnicode Text Segmentationâ€æè¿°äº†ä¸€ä¸ªåˆ¤å®šç°‡å‹ç¬¦å·è¾¹ç•Œçš„ç®—æ³•ã€‚æ‰€ä»¥ï¼Œ100%ç²¾ç¡®çš„è§£å†³åŠæ³•æ˜¯ç”¨Javascriptå»å®ç°é‚£ä¸ªç®—æ³•ï¼Œç„¶åå†ç»Ÿè®¡åˆ°åº•æœ‰å¤šå°‘ä¸ªè‚‰çœ¼å¯è§çš„å­—ç¬¦ã€‚ESæœ‰ä¸€ä¸ªææ¡ˆæ˜¯å¼•å…¥ä¸€ä¸ªå«"),s("code",[t._v("Intl.Segmenter")]),t._v("çš„æ–¹æ³•ï¼Œæ¥å†³å®šæ–‡æœ¬çš„åˆ†éš”ç¬¦çš„ï¼Œå¯ä»¥è¾…åŠ©è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")]),t._v(" "),s("h2",{attrs:{id:"åœ¨javascriptä¸­å°†å­—ç¬¦ä¸²åè¿‡æ¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨javascriptä¸­å°†å­—ç¬¦ä¸²åè¿‡æ¥"}},[t._v("#")]),t._v(" åœ¨Javascriptä¸­å°†å­—ç¬¦ä¸²åè¿‡æ¥")]),t._v(" "),s("p",[t._v("ä¸ä¸Šé¢çš„æ•°å­—ç¬¦ç›¸æ¯”ï¼Œè¿˜æœ‰ä¸€ä¸ªç±»ä¼¼çš„é—®é¢˜ï¼šåè½¬Javascriptçš„å­—ç¬¦ä¸²ã€‚è¿™æœ‰ä»€ä¹ˆéš¾çš„ï¼Ÿæœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// naive solution")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¤§éƒ¨åˆ†æƒ…å†µä¸‹çœ‹ç€éƒ½æ²¡é—®é¢˜")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'abc'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cba'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'maÃ±ana'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+00F1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'anaÃ±am'")]),t._v("\n")])])]),s("p",[t._v("ä½†æ˜¯ï¼Œå¦‚æœå­—ç¬¦ä¸²åŒ…å«ç»„åˆæ ‡è®°ï¼Œæˆ–è€…éBMPç¬¦å·ï¼Œå°±ä¸ç®¡ç”¨äº†ã€‚æ¯”å¦‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'maÃ±ana'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+006E + U+0303")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'anaÌƒnam'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// note: the `~` is now applied to the `a` instead of the `n`")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'  '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// `'\\uDCA9\\uD83D'`, the surrogate pair for `ğŸ’©` in the wrong order")]),t._v("\n")])])]),s("p",[t._v("ä¸ºäº†èƒ½æ­£ç¡®åè½¬éBMPç¬¦å·ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ç”¨ES6å¼•å…¥çš„å­—ç¬¦ä¸²è¿­ä»£å™¨æ¥åšã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// slightly better solution that relies on ES6 StringIterator and `Array.from`")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä¸è¿‡è¿™ä¸ªæ–¹æ³•å¯¹äºç»„åˆæ ‡è®°è¿˜æ˜¯ä¸è¡Œã€‚")]),t._v(" "),s("p",[t._v("å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªè¿˜ç®—å¥½è§£å†³ï¼Œå°±æ˜¯åœ¨åè½¬ä¹‹å‰æŠŠæ‰€æœ‰ç»„åˆæ ‡è®°å¤šåè½¬ä¸€æ¬¡å°±å¥½äº†ã€‚æœ‰ä¸ªåº“å¯ä»¥åšè¿™ä¸ªäº‹æƒ…ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// using Esrever (https://mths.be/esrever)")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" esrever"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'maÃ±ana'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+006E + U+0303")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'anaÃ±am'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" esrever"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n")])])]),s("h2",{attrs:{id:"å­—ç¬¦ä¸²æ–¹æ³•ä¸­çš„unicodeé—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å­—ç¬¦ä¸²æ–¹æ³•ä¸­çš„unicodeé—®é¢˜"}},[t._v("#")]),t._v(" å­—ç¬¦ä¸²æ–¹æ³•ä¸­çš„Unicodeé—®é¢˜")]),t._v(" "),s("p",[t._v("å­—ç¬¦ä¸²çš„æŸäº›æ–¹æ³•ä¹Ÿä¼šæ”¶åˆ°å½±å“")]),t._v(" "),s("h3",{attrs:{id:"å°†code-pointè½¬æ¢æˆç¬¦å·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°†code-pointè½¬æ¢æˆç¬¦å·"}},[t._v("#")]),t._v(" å°†code pointè½¬æ¢æˆç¬¦å·")]),t._v(" "),s("p",[s("code",[t._v("String.fromCharCode")]),t._v("å¯ä»¥è®©ä½ ä»Unicode code pointç›´æ¥å¾—åˆ°å¯¹åº”çš„ç¬¦å·ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•åªå¯¹BMPç¬¦å·æœ‰æ•ˆã€‚å¦‚æœä½ ä½¿ç”¨äº†éBMPç¬¦å·çš„code pointä½ ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCharCode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x0041")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+0041")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+0041")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCharCode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x1F4A9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ï’©'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+F4A9, not U+1F4A9")]),t._v("\n")])])]),s("p",[t._v("å”¯ä¸€çš„åŠæ³•æ˜¯ä½¿ç”¨surrogate pairsï¼Œä½†æ˜¯ä½ å¾—å…ˆå­¦ä¼šå¦‚ä½•ä»code pointsè®¡ç®—å¾—åˆ°surrogate code point")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCharCode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xD83D")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xDCA9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœä½ ä¸æƒ³è‡ªå·±è®¡ç®—surrogate code pointï¼Œä½ å¯ä»¥ç”¨punycode.jsçš„"),s("code",[t._v("encode")]),t._v("æ–¹æ³•")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" punycode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ucs2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("encode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x1F4A9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n")])])]),s("p",[t._v("å¹¸è¿çš„æ˜¯ï¼ŒES6å¼•å…¥äº†ä¸€ä¸ª"),s("code",[t._v("String.fromCodePoint(codepoint)")]),t._v("çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿæ­£ç¡®å¤„ç†æ‰€æœ‰Unicodeå­—ç¬¦ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCodePoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x1F4A9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœæ˜¯ES5æˆ–è€…æ›´è€çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨String.fromCodePointçš„polyfillã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä»å­—ç¬¦ä¸²ä¸­æ‰£å–å­—ç¬¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»å­—ç¬¦ä¸²ä¸­æ‰£å–å­—ç¬¦"}},[t._v("#")]),t._v(" ä»å­—ç¬¦ä¸²ä¸­æ‰£å–å­—ç¬¦")]),t._v(" "),s("p",[t._v("å¦‚æœä½ ä½¿ç”¨"),s("code",[t._v("String.prototype.charAt(position)")]),t._v("æ¥ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ‰£å–ä¸€ä¸ªéBMPå­—ç¬¦ï¼Œé‚£ä¹ˆä½ å¾—åˆ°çš„æ˜¯åŠä¸ªsurrogate pairã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("charAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\uD83D'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+D83D, i.e. the first surrogate half for U+1F4A9")]),t._v("\n")])])]),s("p",[t._v("ES7æœ‰ä¸€ä¸ªææ¡ˆæ˜¯å¸Œæœ›å¼•å…¥ä¸€ä¸ªæ–°æ–¹æ³•"),s("code",[t._v("String.prototype.at(position)")]),t._v("æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("at")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// U+1F4A9")]),t._v("\n")])])]),s("p",[t._v("åŒæ ·çš„ï¼Œä¹Ÿæœ‰å¯¹åº”çš„polyfillå¯ç”¨ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä»å­—ç¬¦ä¸²ä¸­æ‰£å–code-point"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»å­—ç¬¦ä¸²ä¸­æ‰£å–code-point"}},[t._v("#")]),t._v(" ä»å­—ç¬¦ä¸²ä¸­æ‰£å–code point")]),t._v(" "),s("p",[t._v("åŒæ ·çš„ï¼Œå¦‚æœä½ ç”¨"),s("code",[t._v("String.prototype.charCodeAt(position)")]),t._v("æƒ³æ‰£å–æŒ‡å®šä½ç½®çš„code pointï¼Œå¯¹äºéBMPç¬¦å·ï¼Œä½ åªä¼šå¾—åˆ°åŠä¸ªsurrogate pairã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("charCodeAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xD83D")]),t._v("\n")])])]),s("p",[t._v("ES6æä¾›äº†ä¸€ä¸ªæ–¹æ³•"),s("code",[t._v("String.prototype.codePointAt(position)")]),t._v("å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("codePointAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x1F4A9")]),t._v("\n")])])]),s("p",[t._v("åŒæ ·çš„ï¼Œä¹Ÿæœ‰polyfillå¯ä»¥ç”¨ã€‚")]),t._v(" "),s("h3",{attrs:{id:"éå†å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç¬¦å·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#éå†å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç¬¦å·"}},[t._v("#")]),t._v(" éå†å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç¬¦å·")]),t._v(" "),s("p",[t._v("å‡è®¾ä½ è¦éå†å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç¬¦å·ï¼Œåœ¨ES5ä¸­ï¼Œä½ éœ€è¦å†™ä¸€å¤§å †ä»£ç æ‰èƒ½å®ç°æ­£ç¡®çš„é€»è¾‘ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" output "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" charCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("charCodeAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("charCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xD800")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" charCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xDBFF")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      charCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("charCodeAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("charCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xDC00")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" charCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xDFFF")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("charAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" symbols "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSymbols")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsymbols"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("symbol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("symbol "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("æˆ–è€…ä½ å¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¯”å¦‚"),s("code",[t._v("var regexCodePoint = /[^\\uD800-\\uDFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDFFF]/g;")]),t._v("æ¥åšç±»ä¼¼çš„äº‹æƒ…ã€‚")]),t._v(" "),s("p",[t._v("åœ¨ES6ä¸­ï¼Œç›´æ¥ç”¨for ofè¿­ä»£å™¨å°±å¯ä»¥äº†")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" symbol "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("symbol "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä¸è¿‡for ofæ˜¯æ²¡æœ‰polyfillçš„ï¼Œå› ä¸ºè¿™æ˜¯ä¸ªè¯­æ³•å±‚é¢çš„æ–°åŠŸèƒ½ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å…¶ä»–é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–é—®é¢˜"}},[t._v("#")]),t._v(" å…¶ä»–é—®é¢˜")]),t._v(" "),s("p",[t._v("å…¶å®å‡ ä¹æ‰€æœ‰Stringçš„æ–¹æ³•éƒ½ä¼šå—åˆ°å½±å“ï¼Œæ¯”å¦‚ï¼ˆString.prototype.substringï¼ŒString.prototype.sliceç­‰ç­‰ï¼‰ï¼Œæ‰€ä»¥ä½¿ç”¨ä»–ä»¬çš„æ—¶å€™è¦å°å¿ƒã€‚")]),t._v(" "),s("h2",{attrs:{id:"unicodeå¯¹æ­£åˆ™è¡¨è¾¾å¼çš„å½±å“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unicodeå¯¹æ­£åˆ™è¡¨è¾¾å¼çš„å½±å“"}},[t._v("#")]),t._v(" Unicodeå¯¹æ­£åˆ™è¡¨è¾¾å¼çš„å½±å“")]),t._v(" "),s("h3",{attrs:{id:"åŒ¹é…code-pointå’Œunicodeç¬¦å·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŒ¹é…code-pointå’Œunicodeç¬¦å·"}},[t._v("#")]),t._v(" åŒ¹é…code pointå’ŒUnicodeç¬¦å·")]),t._v(" "),s("p",[t._v("åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œ"),s("code",[t._v(".")]),t._v("ä»£è¡¨ä¸€ä¸ªå•ä¸ªçš„ç¬¦å·ï¼Œä½†æ˜¯å› ä¸ºjavascriptæ˜¯ç”¨surrogate pairsæ¥è¡¨ç¤ºéBMPçš„ï¼Œè€Œæ­£åˆ™è¡¨è¾¾å¼ä¼šè®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("foo.bar")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fooğŸ’©bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n")])])]),s("p",[t._v("è®©æˆ‘ä»¬åœä¸‹æ¥ä»”ç»†æ€è€ƒä¸€ä¸‹ï¼Œæ€ä¹ˆæ ·è®©æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…éBMPç¬¦å·å‘¢ï¼Ÿæ˜¾ç„¶"),s("code",[t._v(".")]),t._v("æ˜¯ä¸è¡Œçš„ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^.$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n")])])]),s("p",[t._v("ä¸€ç§åŠæ³•æ˜¯ç›´æ¥æ‰‹å†™å‡ºcode pointsç©ºé—´ï¼Œè™½ç„¶çœ‹ä¸Šå»ä¸æ˜¯é‚£ä¹ˆç›´è§‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// wtf")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),s("p",[t._v("å½“ç„¶é€šå¸¸ä½ ä¸éœ€è¦æ‰‹å†™è¿™äº›ä¸œè¥¿ï¼Œå› ä¸ºä¼šæœ‰ä¸€äº›ç°æˆçš„ç¬¬ä¸‰æ–¹åº“å¸®ä½ åšè¿™ä¸ªäº‹æƒ…ï¼Œæ¯”å¦‚regenerateï¼Œå®ƒèƒ½å¤Ÿæ ¹æ®code pointæˆ–ç¬¦å·ç”Ÿæˆå¯¹åº”çš„æ­£åˆ™ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("regenerate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x10FFFF")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]'")]),t._v("\n")])])]),s("p",[t._v("ç”Ÿæˆçš„æ­£åˆ™ä»å·¦åˆ°å³ä¾æ¬¡åŒ¹é…äº†BMPç¬¦å·ï¼Œsurroage pairsï¼Œlong surrogatesã€‚è‡³äºlong surrogateæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œè¿™é‡Œå°±ä¸ä½œå±•å¼€äº†ã€‚")]),t._v(" "),s("p",[t._v("ES6å¼•å…¥äº†ä¸€ä¸ªuæ ‡è®°ï¼Œç”¨æ¥è§£å†³ä¸Šé¢æ‰€è¿°çš„æ­£åˆ™åŒ¹é…çš„"),s("code",[t._v(".")]),t._v("é—®é¢˜ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("foo.bar")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fooğŸ’©bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("foo.bar")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fooğŸ’©bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),s("h3",{attrs:{id:"ébmpç¬¦å·çš„åˆ†ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ébmpç¬¦å·çš„åˆ†ç±»"}},[t._v("#")]),t._v(" éBMPç¬¦å·çš„åˆ†ç±»")]),t._v(" "),s("p",[t._v("æ¯”å¦‚åƒ"),s("code",[t._v("/[a-c]/")]),t._v("è¿™æ ·çš„æ­£åˆ™ï¼Œæˆ‘ä»¬çŸ¥é“æ˜¯ä»U+0061 LATIN SMALL LETTER A åˆ° U+0063 LATIN SMALL LETTER Cã€‚å¦‚æœæ˜¯"),s("code",[t._v("/[ğŸ’©-ğŸ’«]/")]),t._v("ï¼Œçœ‹ä¸Šå»å°±æ˜¯ä»U+1F4A9 PILE OF POO åˆ° U+1F4AB DIZZY SYMBOLï¼Œä½†å®é™…å¹¶ä¸æ˜¯è¿™æ ·ã€‚")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(">> /[ğŸ’©-ğŸ’«]/\nSyntaxError: Invalid regular expression: Range out of order in character class\n")])])]),s("p",[t._v("è¿™æ˜¯å› ä¸ºä¸Šé¢çš„æ­£åˆ™ç­‰ä»·äºä¸‹é¢è¿™æ ·")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\uD83D\\uDCA9-\\uD83D\\uDCAB]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("SyntaxError")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Invalid regular expression"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Range out "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" order "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" character "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v("\n")])])]),s("p",[t._v("åˆæ˜¯surrogate pairsï¼Œæ‰€ä»¥å®é™…ä¸Šè¿™ä¸ªæ­£åˆ™åŒ¹é…çš„æ˜¯ä¸‰æ®µï¼Œè€Œä¸­é—´é‚£ä¸€æ®µ\\uDCA9-\\uD83Dæ˜¯éæ³•çš„ï¼Œå› ä¸ºèµ·å§‹ç¼–ç å¤§äºäº†ç»“æŸç¼–ç ã€‚")]),t._v(" "),s("p",[t._v("ES6å†ä¸€æ¬¡æ‹¯æ•‘äº†æˆ‘ä»¬ï¼Œé€šè¿‡uæ ‡è®°å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\uD83D\\uDCA9-\\uD83D\\uDCAB]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\uD83D\\uDCA9'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\u{1F4A9}-\\u{1F4AB}]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u{1F4A9}'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[ğŸ’©-ğŸ’«]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\uD83D\\uDCA9-\\uD83D\\uDCAB]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\uD83D\\uDCAA'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4AA")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\u{1F4A9}-\\u{1F4AB}]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u{1F4AA}'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4AA")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[ğŸ’©-ğŸ’«]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’ª'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4AA")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\uD83D\\uDCA9-\\uD83D\\uDCAB]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\uD83D\\uDCAB'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4AB")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\u{1F4A9}-\\u{1F4AB}]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u{1F4AB}'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4AB")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[ğŸ’©-ğŸ’«]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("u")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’«'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4AB")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),s("p",[t._v("ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•æ— æ³•å…¼å®¹ES5å’Œæ›´è€çš„ç¯å¢ƒï¼Œå¦‚æœä½ çœŸçš„æœ‰éœ€è¦ï¼Œå»ºè®®ä½¿ç”¨regenerateè¿™ä¸ªå·¥å…·åº“ç”Ÿæˆæ­£ç¡®çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("regenerate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’«'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\uD83D[\\uDCA9-\\uDCAB]'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\uD83D[\\uDCA9-\\uDCAB]$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’©'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4A9")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\uD83D[\\uDCA9-\\uDCAB]$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’ª'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4AA")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\uD83D[\\uDCA9-\\uDCAB]$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸ’«'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// match U+1F4AB")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),s("h2",{attrs:{id:"ç”Ÿäº§ç¯å¢ƒä¸­çš„bugä»¥åŠå¦‚ä½•é¿å…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç”Ÿäº§ç¯å¢ƒä¸­çš„bugä»¥åŠå¦‚ä½•é¿å…"}},[t._v("#")]),t._v(" ç”Ÿäº§ç¯å¢ƒä¸­çš„bugä»¥åŠå¦‚ä½•é¿å…")]),t._v(" "),s("p",[t._v("ä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Œtwitterçš„æ¯ä¸€ä¸ªtweetåªå…è®¸140ä¸ªå­—ç¬¦ï¼Œè€Œåç«¯å¯ä¸ç®¡è¿™æ˜¯ä»€ä¹ˆå­—ç¬¦ï¼ŒBMPè¿˜æ˜¯éBMPã€‚ä½†æ˜¯å› ä¸ºJavascriptåœ¨å‰ç«¯æ˜¯ä»…ä»…é€šè¿‡"),s("code",[t._v("length")]),t._v("æ–¹æ³•åˆ¤æ–­é•¿åº¦ï¼Œæ‰€ä»¥å¦‚æœä½ è¾“å…¥çš„éƒ½æ˜¯éBMPå­—ç¬¦ï¼Œé‚£æœ€å¤šåªèƒ½æ‰“70ä¸ªã€‚ï¼ˆè¿™ä¸ªbugç°åœ¨å·²ç»è¢«ä¿®å¤äº†ï¼‰")]),t._v(" "),s("p",[t._v("è®¸å¤šjavascriptçš„åº“éƒ½æ²¡èƒ½æ­£ç¡®å¤„ç†éBMPå­—ç¬¦ã€‚æ¯”å¦‚countable.js,underscore.jsç­‰ç­‰ã€‚æœ‰æ—¶å€™htmlä¸­åŒ…å«ä¸€äº›ç‰¹æ®Šçš„æ•°å­—ä¹Ÿå¯èƒ½å¯¼è‡´htmlè§£ç å¤±è´¥ï¼Œæ¯”å¦‚&#X1F4A9ã€‚è¿™é‡Œæ¨èheè¿™ä¸ªåº“åšhtmlçš„ç¼–è§£ç ã€‚")]),t._v(" "),s("p",[t._v("ä»¥ä¸Šè¿™äº›éƒ½æ˜¯æ¯”è¾ƒå®¹æ˜“äº§ç”Ÿå’Œä¿®å¤çš„é”™è¯¯ï¼Œæ¯•ç«ŸJavascriptå¤„ç†Unicodeæ˜¯å¾ˆéº»çƒ¦çš„ã€‚é‚£ä¹ˆé™¤äº†ä¿®å¤çš„åŠæ³•ï¼Œæ€ä¹ˆå‘ç°è¿™äº›é”™è¯¯å‘¢ï¼Ÿ")]),t._v(" "),s("h2",{attrs:{id:"the-pile-of-poo-test"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-pile-of-poo-test"}},[t._v("#")]),t._v(" The Pile of Poo Test")]),t._v(" "),s("p",[t._v("æ— è®ºä½•æ—¶å½“ä½ ç¼–å†™éœ€è¦å¤„ç†å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼çš„ä»£ç æ—¶ï¼Œè®°å¾—åœ¨UTçš„å­—ç¬¦ä¸²é‡Œæ·»åŠ ä¸€ä¸ªç¿”ï¼ˆğŸ’©ï¼‰ï¼Œç„¶åçœ‹çœ‹æ˜¯å¦æ­£å¸¸ã€‚è¿™ä¸ªæ–¹æ³•å¾ˆæ–¹ä¾¿ï¼Œå¾ˆç®¡ç”¨ï¼Œä¹Ÿå¾ˆæœ‰è¶£ï¼Œèƒ½å¸®åŠ©ä½ æ£€æŸ¥ä½ çš„ä»£ç æ˜¯å¦æ­£ç¡®å¤„ç†äº†éBMPå­—ç¬¦ã€‚å¦‚æœä½ å‘ç°äº†é”™è¯¯ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ä¸Šé¢ä»‹ç»çš„æ–¹æ³•ä¿®å¤äº†ã€‚")]),t._v(" "),s("p",[t._v("æ›´å®Œå–„çš„Unicodeå­—ç¬¦ä¸²æ˜¯"),s("code",[t._v("IÃ±tÃ«rnÃ¢tiÃ´nÃ lizÃ¦tiÃ¸nâ˜ƒğŸ’©")]),t._v("ï¼Œè¿™20ä¸ªå­—ç¬¦åŒ…å«äº†ä»U+0100åˆ°U+FFFFçš„BMPå­—ç¬¦ï¼Œä»¥åŠä»U+010000åˆ°U+10FFFçš„éBMPå­—ç¬¦ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);